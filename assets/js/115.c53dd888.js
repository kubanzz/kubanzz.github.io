(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{446:function(t,e,s){"use strict";s.r(e);var a=s(12),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"一、基本搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、基本搭建"}},[t._v("#")]),t._v(" 一、基本搭建")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.pdai.tech/md/about/blog/blog-build-vuepress.html#%E5%8D%9A%E5%AE%A2%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7vuepress%E4%BB%8B%E7%BB%8D",target:"_blank",rel:"noopener noreferrer"}},[t._v("pdai文档"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("*网站优化博客"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("基本搭建流程参考上述文档即可，最麻烦的地方其实是在样式的调整和侧边栏、导航栏的自动化展开上，笔者是自己写了点简陋的代码实现简单的自动化")])]),t._v(" "),e("h2",{attrs:{id:"二、部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、部署"}},[t._v("#")]),t._v(" 二、部署")]),t._v(" "),e("blockquote",[e("p",[t._v("可以参考hugo+github搭建博客的那边文档，目前笔者是部署在github page上")])]),t._v(" "),e("h2",{attrs:{id:"三、网站优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、网站优化"}},[t._v("#")]),t._v(" 三、网站优化")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/vuepress/awesome-vuepress/blob/main/v1.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1插件集合"),e("OutboundLink")],1)])]),t._v(" "),e("h4",{attrs:{id:"sitemap网页地址生成插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sitemap网页地址生成插件"}},[t._v("#")]),t._v(" SiteMap网页地址生成插件")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/ekoeryanto/vuepress-plugin-sitemap",target:"_blank",rel:"noopener noreferrer"}},[t._v("sitemap-plugin"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("用于生成爬虫爬取的url")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 导入插件\nnpm install vuepress-plugin-sitemap\n\n// 配置config.js\nplugins: \n    [\n        ['sitemap', \n            {\n                hostname: 'https://kubanzz.github.io',\n                dateFormatter: val => {\n                  return new Date().toISOString()\n                }\n            }\n        ]\n\t]\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br")])]),e("h4",{attrs:{id:"algolia-搜索插件添加"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#algolia-搜索插件添加"}},[t._v("#")]),t._v(" Algolia 搜索插件添加")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://juejin.cn/post/7110518413839040519",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考一"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/267",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考二"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("问题1：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("error vuepress-plugin-sitemap apply generated failed.\nRangeError: Invalid time value\n    at Date.toISOString (<anonymous>)\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("解决：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.wkii.net/Tech/use-vuepress-push-blog.html#%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("问题2：")]),t._v(" "),e("blockquote",[e("p",[t._v("无法爬取到内容")])]),t._v(" "),e("p",[t._v("解决：进入下面爬虫配置地址，配置如下即可")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.algolia.com/apps/XYWRESIL23/explorer/browse/kubanzz",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia地址"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://crawler.algolia.com/admin/crawlers/93bc7b6e-da35-451c-b399-75ac235d6889/configuration/edit",target:"_blank",rel:"noopener noreferrer"}},[t._v("爬虫配置地址"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontents.com/PI-KA-CHU/Image-OSS/main/imagesimage-20220907005541299.png",alt:"image-20220907005541299"}})]),t._v(" "),e("h4",{attrs:{id:"添加图片缩放功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加图片缩放功能"}},[t._v("#")]),t._v(" 添加图片缩放功能")]),t._v(" "),e("blockquote",[e("p",[t._v("开始引入的是官方的插件，但是发现根本没法用，后面在社区找到其他插件了，现在用的是"),e("a",{attrs:{href:"https://vuepress-community.netlify.app/zh/plugins/zooming/#%E5%AE%89%E8%A3%85",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-plugin-zooming"),e("OutboundLink")],1),t._v("，")]),t._v(" "),e("div",{staticClass:"language-css line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 导入插件\nnpm install -D vuepress-plugin-zooming\n\n// 配置\nplugins: [\n    [\n      'vuepress-plugin-zooming',")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("delay: 1000,\n        options:")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("bgColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("zIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10000"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ]"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n]"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])])]),t._v(" "),e("h4",{attrs:{id:"添加评论功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加评论功能"}},[t._v("#")]),t._v(" 添加评论功能")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/270",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vssue\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ol",[e("li",[t._v("注册OAuth application："),e("a",{attrs:{href:"https://github.com/gitalk/gitalk/blob/master/readme-cn.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("gittalk"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://vssue.js.org/guide/github.html#get-the-client-id-and-secret",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("引入vssue评论插件\n"),e("ul",[e("li",[e("a",{attrs:{href:"https://vssue.js.org/guide/vuepress.html#vuepress-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])])])]),t._v(" "),e("p",[t._v("在引入的过程遇到了坑，跟着官方文档无法正常显示，详细解决看下面"),e("em",[t._v("问题5")])])]),t._v(" "),e("h2",{attrs:{id:"四、问题解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、问题解决"}},[t._v("#")]),t._v(" 四、问题解决")]),t._v(" "),e("ol",[e("li",[t._v("执行"),e("code",[t._v("npm run build")]),t._v("后报下面错误")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TypeError: Cannot read properties of undefined (reading 'match')\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("​\t原因：nav有变量为空，导致失败")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://p6p.net/3767.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考一"),e("OutboundLink")],1)])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("配置样式后没有用")])]),t._v(" "),e("blockquote",[e("p",[t._v("在样式后面添加 "),e("code",[t._v("!important")])]),t._v(" "),e("p",[t._v("添加后提高配置的优先级，从而让样式生效")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("图片压缩\n"),e("ul",[e("li",[e("a",{attrs:{href:"https://tinify.com/dashboard/api#token/sN3KvjDKKLsnJY4Tqv8twqMMXJzyVg9Q/meW7H9xU8H4",target:"_blank",rel:"noopener noreferrer"}},[t._v("压缩工具网站"),e("OutboundLink")],1)])])])]),t._v(" "),e("blockquote",[e("p",[t._v("可以采用PICGO提供的插件，在上面链接中获取API keys并配置到插件即可，每月免费500张")])]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("由于图床用的是github，国内网络无法访问，需要增加代理")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://reid.run/archives/howtowriteblog1",target:"_blank",rel:"noopener noreferrer"}},[t._v("*参考文档"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("解决思路是这样的，在下面自定义殒命中加入下面的格式的链接：")]),t._v(" "),e("p",[e("code",[t._v("https://cdn.jsdelivr.net/gh/{github用户名}/{仓库名}@{分支}")])]),t._v(" "),e("p",[t._v("例如："),e("code",[t._v("https://cdn.jsdelivr.net/gh/PI-KA-CHU/Image-OSS@main/imagesimage-20220827015830409.png")])]),t._v(" "),e("p",[t._v("在加入后发现了一个更加便捷的方式，其实不用每个图片路径都修改成jsdlivr，只要加了一个jsdelivr CDN加速的图片后，后续的其他github图片都可以正常加载，所以我将首页的图片改为jsdelivr加速的（只改一张即可），后续访问其他文档都可以正常进行")])]),t._v(" "),e("blockquote",[e("p",[t._v("后来又发现，jsdlivr在移动网络下无法显示，所以又找了另一个CDN加速"),e("a",{attrs:{href:"https://pangniao.net/github-cdn.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sevencdn"),e("OutboundLink")],1),t._v("，将"),e("code",[t._v("githubusercontent")]),t._v("改成"),e("code",[t._v("githubusercontents")]),t._v("即可。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("自定义域名："),e("code",[t._v("https://raw.githubusercontents.com/PI-KA-CHU/Image-OSS/main")])])]),t._v(" "),e("li",[e("p",[t._v("Token： Developer settings -> Personal access tokens -> 勾选repo -> 生成")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontents.com/PI-KA-CHU/Image-OSS/main/imagesimagesimage-20220827015830409.png",alt:"image-20220827015830409"}})]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("引入vssue评论插件后，一直无法评价页面")])]),t._v(" "),e("blockquote",[e("p",[t._v("后面发现插件不会自动引入评论组件，需要在Markdown中手动引入才能生效（有点鸡肋）")]),t._v(" "),e("div",{staticClass:"language-vue line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Vssue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("尝试了n种方法去讲vssue组件自动添加到所有Markdown中，但是都失败了，最后还是使用了gittalk，并且从一个博主中拿到了自动添加到markdown的js代码，vssue应该也可以做到，奈何我的前端太菜。（目前脚本存放在enchangeApp.js文件中）")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://hughfenghen.github.io/fe/vuepress-gitment.html#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("*参考"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=n.exports}}]);